create extension if not exists pgcrypto; create table if not exists bookings ( id uuid primary key default gen_random_uuid(), org_id text not null, service_id text not null, name text not null, phone text, slot timestamptz not null, status text not null default 'pending', amount_cents integer not null default 0, stripe_session_id text, payment_intent_id text, created_at timestamptz not null default now() ); create table if not exists messages ( id uuid primary key default gen_random_uuid(), org_id text, role text not null, content text not null, session_id text, created_at timestamptz not null default now() );